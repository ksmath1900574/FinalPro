<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" xmlns:th="http://www.thymeleaf.org">
	<title>글작성 페이지</title>
	<!-- CKEditor CDN -->
	<script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>
</head>

<body>
	<h2>글작성 페이지</h2>
	<!-- front 부분은 되도록이면 복사 붙여넣기 해주세요 -->
	<!-- action속성: 목적지(서버주소), method속성: http request method(get, post) -->
	<form action="/freeboard/save" method="post" enctype="multipart/form-data">
		<input type="hidden" name="loginid" th:value="${session.loginid}">
		작성자: <input type="text" name="nickname" th:value="${session.nickname}" readonly> <br>
		태그: <input type="text" name="tag"> <br>
		제목: <input type="text" name="title"> <br>
		내용: <textarea name="contents" id="editor" cols="30" rows="10"></textarea> <br>
		파일: <input type="file" name="freeboardFile" multiple> <br />
		<input type="submit" value="글작성">
	</form>

	<a href="/">홈으로</a>

	<!-- CKEditor 인스턴스 초기화 -->
	<script>
		ClassicEditor
			.create(document.querySelector('#editor'), {
				language: "ko",
				ckfinder: {
					uploadUrl: '/uploadImage', // 파일 업로드 엔드포인트 설정
					withCredentials: true
				}
			})
			.catch(error => {
				console.error(error);
			});
	</script>
</body>

</html>